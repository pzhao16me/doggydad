---
title: Anthropic MCP ä»£ç æ‰§è¡Œæ·±åº¦è§£æï¼šå®‰å…¨æ²™ç®±ä¸ AI ç¼–ç¨‹çš„æœªæ¥
publishDate: 2025-12-14
description: æ·±å…¥åˆ†æ Anthropic å‘å¸ƒçš„ MCP ä»£ç æ‰§è¡Œæ–¹æ¡ˆï¼Œè¯¦è§£å®‰å…¨æ²™ç®±æ¶æ„ã€Docker å®¹å™¨åŒ–å®ç°ã€å¤šå±‚é˜²æŠ¤ç­–ç•¥ï¼Œæ¢è®¨ä»£ç éªŒè¯ã€æ•°æ®åˆ†æç­‰å®é™…åº”ç”¨åœºæ™¯ï¼Œå±•æœ› AI è¾…åŠ©ç¼–ç¨‹çš„æœªæ¥å‘å±•è¶‹åŠ¿ã€‚
keywords: [MCPä»£ç æ‰§è¡Œ, Anthropic, Claudeä»£ç è¿è¡Œ, AIæ²™ç®±, Dockerå®¹å™¨, Model Context Protocol]
author: DoggyDad
tags: [MCP, Anthropic, ä»£ç æ‰§è¡Œ, AIå®‰å…¨, Docker, Claude, æ²™ç®±]
---

# Anthropic MCP ä»£ç æ‰§è¡Œæ·±åº¦è§£æï¼šå®‰å…¨æ²™ç®±ä¸ AI ç¼–ç¨‹çš„æœªæ¥

## æ–‡ç« æ¦‚è¿°

Anthropic å·¥ç¨‹å›¢é˜Ÿå‘å¸ƒäº†ä¸€ç¯‡å…³äº **MCPï¼ˆModel Context Protocolï¼‰ä»£ç æ‰§è¡Œ** çš„æŠ€æœ¯æ–‡ç« ï¼Œè¯¦ç»†ä»‹ç»äº†å¦‚ä½•è®© AI æ¨¡å‹å®‰å…¨åœ°æ‰§è¡Œä»£ç ã€‚è¿™æ˜¯ AI è¾…åŠ©ç¼–ç¨‹é¢†åŸŸçš„ä¸€ä¸ªé‡è¦è¿›å±•ã€‚

### æ ¸å¿ƒé—®é¢˜

AI æ¨¡å‹ï¼ˆå¦‚ Claudeï¼‰åœ¨ç”Ÿæˆä»£ç åï¼Œå¦‚ä½•å®‰å…¨åœ°æ‰§è¡Œè¿™äº›ä»£ç ï¼Ÿ

ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
- ç›´æ¥åœ¨ç”¨æˆ·æœºå™¨ä¸Šæ‰§è¡Œ â†’ **å®‰å…¨é£é™©æé«˜**
- å®Œå…¨ç¦æ­¢æ‰§è¡Œ â†’ **æ— æ³•éªŒè¯ä»£ç æ­£ç¡®æ€§**
- æ‰‹åŠ¨å¤åˆ¶æ‰§è¡Œ â†’ **æ•ˆç‡ä½ä¸‹**

Anthropic çš„è§£å†³æ–¹æ¡ˆï¼š**é€šè¿‡ MCP åè®®åœ¨å®‰å…¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç **

## æŠ€æœ¯æ¶æ„è¯¦è§£

### MCP åè®®å›é¡¾

MCPï¼ˆModel Context Protocolï¼‰æ˜¯ Anthropic æ¨å‡ºçš„å¼€æ”¾åè®®ï¼Œç”¨äºè¿æ¥ AI æ¨¡å‹ä¸å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     MCP åè®®     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude    â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  MCP Server â”‚
â”‚  (AI æ¨¡å‹)   â”‚                 â”‚  (å·¥å…·æœåŠ¡)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  å¤–éƒ¨èµ„æº    â”‚
                               â”‚ (æ–‡ä»¶/APIç­‰) â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç æ‰§è¡Œæ¶æ„

Anthropic çš„ä»£ç æ‰§è¡Œæ–¹æ¡ˆé‡‡ç”¨äº†å¤šå±‚å®‰å…¨æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·è¯·æ±‚å±‚                           â”‚
â”‚  "è¯·å¸®æˆ‘å†™ä¸€ä¸ªæ’åºç®—æ³•å¹¶æµ‹è¯•å®ƒ"                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Claude æ¨¡å‹å±‚                        â”‚
â”‚  1. ç†è§£éœ€æ±‚                                            â”‚
â”‚  2. ç”Ÿæˆä»£ç                                             â”‚
â”‚  3. è°ƒç”¨ MCP å·¥å…·æ‰§è¡Œ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCP Server å±‚                        â”‚
â”‚  - æ¥æ”¶ä»£ç æ‰§è¡Œè¯·æ±‚                                      â”‚
â”‚  - éªŒè¯å’Œé¢„å¤„ç†                                         â”‚
â”‚  - ç®¡ç†æ²™ç®±ç”Ÿå‘½å‘¨æœŸ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®‰å…¨æ²™ç®±å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Docker å®¹å™¨                          â”‚ â”‚
â”‚  â”‚  - éš”ç¦»çš„æ–‡ä»¶ç³»ç»Ÿ                                  â”‚ â”‚
â”‚  â”‚  - å—é™çš„ç½‘ç»œè®¿é—®                                  â”‚ â”‚
â”‚  â”‚  - èµ„æºé™åˆ¶ï¼ˆCPU/å†…å­˜/æ—¶é—´ï¼‰                       â”‚ â”‚
â”‚  â”‚  - æœ€å°æƒé™åŸåˆ™                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å®‰å…¨æ²™ç®±è®¾è®¡

### 1. Docker å®¹å™¨åŒ–

ä»£ç åœ¨ Docker å®¹å™¨ä¸­æ‰§è¡Œï¼Œæä¾›äº†å¤šå±‚éš”ç¦»ï¼š

```dockerfile
# ç¤ºä¾‹ï¼šå®‰å…¨æ²™ç®±çš„ Dockerfile è®¾è®¡ç†å¿µ
FROM python:3.11-slim

# åˆ›å»ºé root ç”¨æˆ·
RUN useradd -m -s /bin/bash sandbox

# ç§»é™¤ä¸å¿…è¦çš„å·¥å…·
RUN apt-get remove -y wget curl

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /sandbox

# åˆ‡æ¢åˆ°éç‰¹æƒç”¨æˆ·
USER sandbox

# è®¾ç½®èµ„æºé™åˆ¶
# (é€šè¿‡ docker run å‚æ•°å®ç°)
```

### 2. èµ„æºé™åˆ¶

| èµ„æºç±»å‹ | é™åˆ¶ç­–ç•¥ | ç›®çš„ |
|---------|---------|------|
| CPU | é™åˆ¶æ ¸å¿ƒæ•°å’Œä½¿ç”¨ç‡ | é˜²æ­¢èµ„æºè€—å°½ |
| å†…å­˜ | è®¾ç½®ä¸Šé™ï¼ˆå¦‚ 512MBï¼‰ | é˜²æ­¢å†…å­˜æº¢å‡ºæ”»å‡» |
| æ‰§è¡Œæ—¶é—´ | è¶…æ—¶æœºåˆ¶ï¼ˆå¦‚ 30ç§’ï¼‰ | é˜²æ­¢æ— é™å¾ªç¯ |
| ç£ç›˜ | é™åˆ¶å†™å…¥é‡å’Œä½ç½® | é˜²æ­¢ç£ç›˜å¡«å……æ”»å‡» |
| ç½‘ç»œ | é»˜è®¤ç¦ç”¨æˆ–ç™½åå• | é˜²æ­¢æ•°æ®æ³„éœ² |

### 3. æƒé™æ§åˆ¶

```python
# å®‰å…¨æ‰§è¡Œçš„ä¼ªä»£ç ç¤ºä¾‹
class SecureExecutor:
    def __init__(self):
        self.allowed_imports = [
            'math', 'json', 'datetime', 
            'collections', 'itertools'
        ]
        self.blocked_functions = [
            'eval', 'exec', 'compile',
            'open', '__import__'
        ]
    
    def validate_code(self, code: str) -> bool:
        """éªŒè¯ä»£ç å®‰å…¨æ€§"""
        # æ£€æŸ¥å±é™©å¯¼å…¥
        # æ£€æŸ¥å±é™©å‡½æ•°è°ƒç”¨
        # æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿè®¿é—®
        pass
    
    def execute(self, code: str) -> ExecutionResult:
        """åœ¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç """
        if not self.validate_code(code):
            return ExecutionResult(error="Code validation failed")
        
        # åœ¨ Docker å®¹å™¨ä¸­æ‰§è¡Œ
        result = self.docker_execute(code)
        return result
```

## MCP å·¥å…·å®šä¹‰

### ä»£ç æ‰§è¡Œå·¥å…·æ¥å£

```json
{
  "name": "execute_code",
  "description": "åœ¨å®‰å…¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç ",
  "inputSchema": {
    "type": "object",
    "properties": {
      "language": {
        "type": "string",
        "enum": ["python", "javascript", "bash"],
        "description": "ç¼–ç¨‹è¯­è¨€"
      },
      "code": {
        "type": "string",
        "description": "è¦æ‰§è¡Œçš„ä»£ç "
      },
      "timeout": {
        "type": "integer",
        "default": 30,
        "description": "è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰"
      }
    },
    "required": ["language", "code"]
  }
}
```

### æ‰§è¡Œç»“æœæ ¼å¼

```json
{
  "success": true,
  "stdout": "Hello, World!\n",
  "stderr": "",
  "exit_code": 0,
  "execution_time_ms": 45,
  "memory_used_mb": 12.5
}
```

## å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ä¸€ï¼šä»£ç éªŒè¯

ç”¨æˆ·è¯·æ±‚ Claude ç¼–å†™ä»£ç æ—¶ï¼Œå¯ä»¥ç«‹å³éªŒè¯ï¼š

```
ç”¨æˆ·: å¸®æˆ‘å†™ä¸€ä¸ªè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°

Claude: 
æˆ‘æ¥ä¸ºä½ ç¼–å†™å¹¶æµ‹è¯•è¿™ä¸ªå‡½æ•°ï¼š

def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

# æµ‹è¯•
for i in range(10):
    print(f"fib({i}) = {fibonacci(i)}")

[æ‰§è¡Œç»“æœ]
fib(0) = 0
fib(1) = 1
fib(2) = 1
fib(3) = 2
fib(4) = 3
fib(5) = 5
fib(6) = 8
fib(7) = 13
fib(8) = 21
fib(9) = 34

ä»£ç å·²éªŒè¯ï¼Œè¿è¡Œæ­£ç¡®ï¼
```

### åœºæ™¯äºŒï¼šæ•°æ®åˆ†æ

```
ç”¨æˆ·: åˆ†æè¿™ç»„é”€å”®æ•°æ® [1200, 1500, 1100, 1800, 2000, 1700]

Claude:
è®©æˆ‘ç”¨ Python è¿›è¡Œåˆ†æï¼š

import statistics

data = [1200, 1500, 1100, 1800, 2000, 1700]

print(f"å¹³å‡å€¼: {statistics.mean(data):.2f}")
print(f"ä¸­ä½æ•°: {statistics.median(data):.2f}")
print(f"æ ‡å‡†å·®: {statistics.stdev(data):.2f}")
print(f"æœ€å¤§å€¼: {max(data)}")
print(f"æœ€å°å€¼: {min(data)}")

[æ‰§è¡Œç»“æœ]
å¹³å‡å€¼: 1550.00
ä¸­ä½æ•°: 1600.00
æ ‡å‡†å·®: 329.98
æœ€å¤§å€¼: 2000
æœ€å°å€¼: 1100
```

### åœºæ™¯ä¸‰ï¼šç®—æ³•è°ƒè¯•

```
ç”¨æˆ·: æˆ‘çš„æ’åºç®—æ³•æœ‰ bugï¼Œå¸®æˆ‘æ‰¾å‡ºæ¥

def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(n-1):  # bug: åº”è¯¥æ˜¯ n-i-1
            if arr[j] > arr[j+1]:
                arr[j], arr[j+1] = arr[j+1], arr[j]
    return arr

Claude:
æˆ‘æ¥æµ‹è¯•å¹¶æ‰¾å‡ºé—®é¢˜ï¼š

[æ‰§è¡ŒåŸä»£ç ]
è¾“å…¥: [64, 34, 25, 12, 22, 11, 90]
è¾“å‡º: [11, 12, 22, 25, 34, 64, 90] âœ“ (ç»“æœæ­£ç¡®ä½†æ•ˆç‡ä½)

é—®é¢˜åˆ†æï¼šå†…å±‚å¾ªç¯åº”è¯¥æ˜¯ range(n-i-1)ï¼Œ
å½“å‰å®ç°è™½ç„¶ç»“æœæ­£ç¡®ï¼Œä½†åšäº†ä¸å¿…è¦çš„æ¯”è¾ƒã€‚

[æ‰§è¡Œä¼˜åŒ–åä»£ç ]
ä¼˜åŒ–åå‡å°‘äº† 40% çš„æ¯”è¾ƒæ¬¡æ•°ã€‚
```

## å®‰å…¨è€ƒé‡æ·±åº¦åˆ†æ

### 1. å¨èƒæ¨¡å‹

| å¨èƒç±»å‹ | æ”»å‡»ç¤ºä¾‹ | é˜²æŠ¤æªæ–½ |
|---------|---------|---------|
| ä»£ç æ³¨å…¥ | æ‰§è¡Œæ¶æ„ç³»ç»Ÿå‘½ä»¤ | æ²™ç®±éš”ç¦» + å‘½ä»¤ç™½åå• |
| èµ„æºè€—å°½ | æ— é™å¾ªç¯/å†…å­˜ç‚¸å¼¹ | è¶…æ—¶ + èµ„æºé™åˆ¶ |
| æ•°æ®æ³„éœ² | è¯»å–æ•æ„Ÿæ–‡ä»¶ | æ–‡ä»¶ç³»ç»Ÿéš”ç¦» |
| ç½‘ç»œæ”»å‡» | å‘èµ·å¤–éƒ¨è¯·æ±‚ | ç½‘ç»œéš”ç¦»/ç™½åå• |
| ææƒæ”»å‡» | å®¹å™¨é€ƒé€¸ | æœ€å°æƒé™ + å®‰å…¨é…ç½® |

### 2. é˜²æŠ¤å±‚æ¬¡

```
ç¬¬ä¸€å±‚ï¼šä»£ç é™æ€åˆ†æ
    â†“ è¿‡æ»¤æ˜æ˜¾å±é™©ä»£ç 
ç¬¬äºŒå±‚ï¼šè¿è¡Œæ—¶æ²™ç®±
    â†“ Docker å®¹å™¨éš”ç¦»
ç¬¬ä¸‰å±‚ï¼šèµ„æºé™åˆ¶
    â†“ CPU/å†…å­˜/æ—¶é—´é™åˆ¶
ç¬¬å››å±‚ï¼šç½‘ç»œéš”ç¦»
    â†“ ç¦æ­¢æˆ–é™åˆ¶ç½‘ç»œè®¿é—®
ç¬¬äº”å±‚ï¼šå®¡è®¡æ—¥å¿—
    â†“ è®°å½•æ‰€æœ‰æ‰§è¡Œè¡Œä¸º
```

### 3. æœ€ä½³å®è·µ

```python
# å®‰å…¨é…ç½®ç¤ºä¾‹
SANDBOX_CONFIG = {
    # å®¹å™¨é…ç½®
    "docker": {
        "image": "sandbox:latest",
        "network_mode": "none",  # ç¦ç”¨ç½‘ç»œ
        "read_only": True,       # åªè¯»æ–‡ä»¶ç³»ç»Ÿ
        "cap_drop": ["ALL"],     # ç§»é™¤æ‰€æœ‰ capabilities
        "security_opt": ["no-new-privileges"],
    },
    
    # èµ„æºé™åˆ¶
    "limits": {
        "memory": "512m",
        "cpus": "0.5",
        "pids": 50,              # é™åˆ¶è¿›ç¨‹æ•°
    },
    
    # æ‰§è¡Œé™åˆ¶
    "execution": {
        "timeout_seconds": 30,
        "max_output_size": "1MB",
    }
}
```

## ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”

### ä»£ç æ‰§è¡Œæ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | å®‰å…¨æ€§ | æ€§èƒ½ | å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯ |
|------|--------|------|--------|---------|
| æœ¬åœ°ç›´æ¥æ‰§è¡Œ | âŒ ä½ | âœ… é«˜ | âœ… ä½ | ä¸æ¨è |
| Docker æ²™ç®± | âœ… é«˜ | âš ï¸ ä¸­ | âš ï¸ ä¸­ | é€šç”¨åœºæ™¯ |
| gVisor/Firecracker | âœ… å¾ˆé«˜ | âš ï¸ ä¸­ | âŒ é«˜ | é«˜å®‰å…¨éœ€æ±‚ |
| WebAssembly | âœ… é«˜ | âœ… é«˜ | âš ï¸ ä¸­ | ç‰¹å®šè¯­è¨€ |
| è¿œç¨‹æ‰§è¡ŒæœåŠ¡ | âœ… é«˜ | âš ï¸ ä¸­ | âœ… ä½ | äº‘æœåŠ¡ |

### MCP vs å…¶ä»–åè®®

| ç‰¹æ€§ | MCP | Function Calling | LangChain Tools |
|------|-----|-----------------|-----------------|
| æ ‡å‡†åŒ– | âœ… å¼€æ”¾åè®® | âš ï¸ å‚å•†ç‰¹å®š | âš ï¸ æ¡†æ¶ç‰¹å®š |
| å®‰å…¨æ¨¡å‹ | âœ… å†…ç½® | âš ï¸ éœ€è‡ªè¡Œå®ç° | âš ï¸ éœ€è‡ªè¡Œå®ç° |
| ç”Ÿæ€ç³»ç»Ÿ | ğŸŒ± å‘å±•ä¸­ | âœ… æˆç†Ÿ | âœ… æˆç†Ÿ |
| å¯æ‰©å±•æ€§ | âœ… é«˜ | âš ï¸ ä¸­ | âœ… é«˜ |

## å®ç°æŒ‡å—

### å¿«é€Ÿå¼€å§‹

1. **å®‰è£… MCP ä»£ç æ‰§è¡ŒæœåŠ¡å™¨**

```bash
# ä½¿ç”¨ uvx è¿è¡Œï¼ˆæ¨èï¼‰
uvx mcp-server-code-executor

# æˆ–ä½¿ç”¨ npm
npx @anthropic/mcp-server-code-executor
```

2. **é…ç½® Claude Desktop**

```json
// claude_desktop_config.json
{
  "mcpServers": {
    "code-executor": {
      "command": "uvx",
      "args": ["mcp-server-code-executor"],
      "env": {
        "SANDBOX_TIMEOUT": "30",
        "SANDBOX_MEMORY": "512m"
      }
    }
  }
}
```

3. **é…ç½® Kiro IDE**

```json
// .kiro/settings/mcp.json
{
  "mcpServers": {
    "code-executor": {
      "command": "uvx",
      "args": ["mcp-server-code-executor"],
      "disabled": false
    }
  }
}
```

### è‡ªå®šä¹‰æ²™ç®±

å¦‚æœéœ€è¦æ›´å¤šæ§åˆ¶ï¼Œå¯ä»¥è‡ªå»ºæ²™ç®±ï¼š

```python
# è‡ªå®šä¹‰ MCP æœåŠ¡å™¨ç¤ºä¾‹
from mcp import Server, Tool

server = Server("custom-code-executor")

@server.tool()
async def execute_python(code: str, timeout: int = 30) -> dict:
    """åœ¨å®‰å…¨æ²™ç®±ä¸­æ‰§è¡Œ Python ä»£ç """
    
    # 1. ä»£ç éªŒè¯
    if not validate_code(code):
        return {"error": "Code validation failed"}
    
    # 2. åˆ›å»ºæ²™ç®±å®¹å™¨
    container = create_sandbox_container(
        image="python:3.11-slim",
        memory_limit="512m",
        timeout=timeout
    )
    
    # 3. æ‰§è¡Œä»£ç 
    result = container.execute(code)
    
    # 4. æ¸…ç†
    container.cleanup()
    
    return {
        "stdout": result.stdout,
        "stderr": result.stderr,
        "exit_code": result.exit_code
    }
```

## æœªæ¥å±•æœ›

### çŸ­æœŸå‘å±•ï¼ˆ6-12ä¸ªæœˆï¼‰

- æ›´å¤šè¯­è¨€æ”¯æŒï¼ˆRust, Go, Java ç­‰ï¼‰
- æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶
- ä¸ IDE æ·±åº¦é›†æˆ
- æ‰§è¡Œå†å²å’Œç‰ˆæœ¬ç®¡ç†

### ä¸­æœŸå‘å±•ï¼ˆ1-2å¹´ï¼‰

- åˆ†å¸ƒå¼æ‰§è¡Œç¯å¢ƒ
- åä½œå¼ä»£ç æ‰§è¡Œ
- AI è‡ªåŠ¨ä¼˜åŒ–æ‰§è¡Œç¯å¢ƒ
- è·¨å¹³å°ç»Ÿä¸€ä½“éªŒ

### é•¿æœŸæ„¿æ™¯

- AI å®Œå…¨è‡ªä¸»çš„å¼€å‘ç¯å¢ƒ
- å®æ—¶åä½œç¼–ç¨‹
- è‡ªé€‚åº”å®‰å…¨ç­–ç•¥
- ä¸ CI/CD æ·±åº¦èåˆ

## å¯¹å¼€å‘è€…çš„å¯ç¤º

### 1. æ‹¥æŠ± MCP ç”Ÿæ€

MCP æ­£åœ¨æˆä¸º AI å·¥å…·é›†æˆçš„æ ‡å‡†åè®®ï¼Œå€¼å¾—æŠ•å…¥å­¦ä¹ ï¼š

- ç†è§£ MCP åè®®è§„èŒƒ
- å­¦ä¹ æ„å»º MCP æœåŠ¡å™¨
- æ¢ç´¢ç°æœ‰ MCP å·¥å…·ç”Ÿæ€

### 2. å®‰å…¨ä¼˜å…ˆæ€ç»´

AI ä»£ç æ‰§è¡Œå¸¦æ¥ä¾¿åˆ©çš„åŒæ—¶ä¹Ÿå¸¦æ¥é£é™©ï¼š

- æ°¸è¿œä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥æ‰§è¡Œ AI ç”Ÿæˆçš„ä»£ç 
- å»ºç«‹ä»£ç å®¡æŸ¥æµç¨‹
- ä½¿ç”¨æ²™ç®±ç¯å¢ƒè¿›è¡Œæµ‹è¯•

### 3. å·¥ä½œæµç¨‹ä¼˜åŒ–

åˆ©ç”¨ä»£ç æ‰§è¡Œèƒ½åŠ›ä¼˜åŒ–å¼€å‘æµç¨‹ï¼š

- å¿«é€ŸåŸå‹éªŒè¯
- è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆ
- äº¤äº’å¼è°ƒè¯•

## æ€»ç»“

Anthropic çš„ MCP ä»£ç æ‰§è¡Œæ–¹æ¡ˆä»£è¡¨äº† AI è¾…åŠ©ç¼–ç¨‹çš„é‡è¦è¿›æ­¥ï¼š

| ç»´åº¦ | ä»·å€¼ |
|------|------|
| **å®‰å…¨æ€§** | å¤šå±‚æ²™ç®±ä¿æŠ¤ï¼Œç”Ÿäº§çº§å®‰å…¨ |
| **å®ç”¨æ€§** | å³æ—¶éªŒè¯ä»£ç ï¼Œæå‡æ•ˆç‡ |
| **æ ‡å‡†åŒ–** | åŸºäºå¼€æ”¾åè®®ï¼Œç”Ÿæ€å‹å¥½ |
| **å¯æ‰©å±•** | æ”¯æŒè‡ªå®šä¹‰å’Œæ‰©å±• |

**æ ¸å¿ƒè¦ç‚¹**ï¼š

1. âœ… MCP æä¾›äº†æ ‡å‡†åŒ–çš„ AI å·¥å…·é›†æˆæ–¹å¼
2. âœ… Docker æ²™ç®±æ˜¯å½“å‰æœ€å®ç”¨çš„å®‰å…¨æ‰§è¡Œæ–¹æ¡ˆ
3. âœ… å¤šå±‚é˜²æŠ¤æ˜¯å®‰å…¨æ‰§è¡Œçš„å…³é”®
4. âœ… ä»£ç æ‰§è¡Œèƒ½åŠ›å°†æ”¹å˜ AI ç¼–ç¨‹ä½“éªŒ

AI ä¸å†åªæ˜¯"å†™ä»£ç "ï¼Œè€Œæ˜¯å¯ä»¥"å†™ä»£ç ã€è¿è¡Œä»£ç ã€éªŒè¯ä»£ç "çš„å®Œæ•´ç¼–ç¨‹ä¼™ä¼´ã€‚

---

## å‚è€ƒèµ„æ–™

- [Anthropic Engineering: Code Execution with MCP](https://www.anthropic.com/engineering/code-execution-with-mcp)
- [Model Context Protocol å®˜æ–¹æ–‡æ¡£](https://modelcontextprotocol.io/)
- [MCP Servers GitHub](https://github.com/modelcontextprotocol/servers)
- [Docker Security Best Practices](https://docs.docker.com/engine/security/)

---

*æœ€åæ›´æ–°ï¼š2025-12-14*
